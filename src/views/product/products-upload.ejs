

<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Upload Product</title>
</head>
<body>
	<h1>Upload Product</h1>
	<form id="upload-form">
		<label for="title">Title:</label>
		<textarea id="title" name="title" required></textarea><br><br>
		
		<label for="description">Description:</label>
		<textarea id="description" name="description" required></textarea><br><br>

		<label for="price">Price:</label>
		<input type="number" id="price" name="price" min="0" required><br><br>

		<label for="category">Category:</label>
		<select id="category" name="categoryId" required>
			<option value="">-- Select a category --</option>
			<option value="1">Category 1</option>
			<option value="2">Category 2</option>
			<option value="3">Category 3</option>
		</select><br><br>
		
		
		<label for="images">Images:</label>
		<input type="file" id="images" name="images" accept="image/*" multiple required><br><br>
		
		
		<input type="submit" value="Submit">
	</form>
	
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script>
		const form = document.querySelector('#upload-form');
		
		form.addEventListener('submit', async (event) => {
			event.preventDefault();

			const formData = new FormData();
			formData.append('title', form.title.value);
			formData.append('description', form.description.value);
			formData.append('price', form.price.value);
			formData.append('categoryId', form.categoryId.value);
			
			const files = document.querySelector('[type=file]').files;
			for (let i = 0; i < files.length; i++) {
				formData.append('images', files[i]);
			}
			
			try {
				const response = await axios.post('/productss/up', formData, {
					headers: {
						'Content-Type': 'multipart/form-data'
					}
				});
				console.log(response.data);
				alert('Product uploaded successfully');
				form.reset();
			} catch (error) {
				console.error(error);
				alert('Failed to upload product. Please try again.');
			}
		});
	</script>
</body>
</html>