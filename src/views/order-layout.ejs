<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>orderë ˆì´ì•„ì›ƒ</title>

    <!--    BootStrap Library-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css2?family=Dongle:wght@700&family=Jua&family=Noto+Serif+KR:wght@200&display=Gowun+Dodum&display=swap"
          rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <!--    Axios-->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<style></style>
<script>
  // êµ¬ë§¤ì§„í–‰
    axios
      .get('http://localhost:3000/orders/myPick')
      .then(( res ) => {
        console.log(res.data.data.length !== 0)
        if(res.data.data.length !== 0){
        let temp = "";
        for ( let i = 0; i < res.data.data.length; i++ ) {
          temp += `
                    <div class="container-fluid" style="border: 1px solid red; margin-top: 20px">
                     <div class="row">
                      <div class="col-md-3" style="border-right: 1px solid red; padding: 0">
                        <img src="img/1296285.jpg" alt="spcFuck" style="width: 100%; margin: 0" />
                       </div>
                    <div class="col-md-9">
                <h3>${ res.data.data[i].product.title }</h3>
<!--                <p>${ res.data.data[i].buyerId }</p>-->
                <h4>${ res.data.data[i].deal }ì›</h4>
                <p>ë‚ ì§œ: ${ res.data.data[i].product.createdAt }íšŒ</p>
                <span>ì¡°íšŒ: ${ res.data.data[i].product.viewCount }íšŒ</span>
                <span style="float: right;">ğŸ¯ ${0} â¤ ${res.data.data[i].product.likes}</span>
            </div>
        </div>
      </div>`;
        }
        document.getElementById('bb').innerHTML = temp;
          }
      })
        .catch(( error ) => {
          let temp = "";
           temp += `
                    <div class="container-fluid" style="border: 1px solid red; margin-top: 20px">
                     <div class="row">
                      <div class="col-md-3" style="border-right: 1px solid red; padding: 0">
                        <img src="img/1296285.jpg" alt="spcFuck" style="width: 100%; margin: 0" />
                       </div>
                    <div class="col-md-9">
                <h3>êµ¬ë§¤ ì§„í–‰ ìƒí’ˆì´ ì—†ë„¤ìš©</h3>
                <h4>ì•„ì§ ê¾¸ë¯¸ê¸° ì „ì…ë‹ˆë‹¤.</h4>
                <p>asdfasdfasf</p>
                <span>asdfasdfasf</span>
                <span></span>
            </div>
        </div>
      </div>`;
            document.getElementById('bb').innerHTML = temp;
        })

    // íŒë§¤ ì§„í–‰
  function mySellProduct() {
    axios
      .get('http://localhost:3000/orders/mySellProduct')
      .then(( res ) => {
        console.log(res)
        let temp = "";
        for ( let i = 0; i < res.data.data.length; i++ ) {
          temp += `
                    <div class="container-fluid" style="border: 1px solid red; margin-top: 20px">
                     <div class="row">
                      <div class="col-md-3" style="border-right: 1px solid red; padding: 0">
                        <img src="img/1296285.jpg" alt="spcFuck" style="width: 100%; margin: 0" />
                       </div>
                    <div class="col-md-9">
                <h3>${ res.data.data[i].title }</h3>
<!--                <p>${ res.data.data[i].buyerId }</p>-->
                <h4>${ res.data.data[i].price }ì›</h4>
                <p>ë‚ ì§œ: ${ res.data.data[i].createdAt }íšŒ</p>
                <span>ì¡°íšŒ: ${ res.data.data[i].viewCount }íšŒ</span>
                <span style="float: right;">ğŸ¯ ${0} â¤ ${res.data.data[i].likes}</span>
            </div>
        </div>
      </div>`;
        }
        document.getElementById('bb').innerHTML = temp;
      })
      .catch(( error ) => {
        // ì˜ˆì™¸ì²˜ë¦¬
        if(error.response.status === 401){
          alert('ë¡œê·¸ì¸í•˜ì…”ì•¼ í•©ë‹ˆë‹¤.');
          window.location.href = '/'
          return
        }
        let temp = "";
           temp += `
                    <div class="container-fluid" style="border: 1px solid red; margin-top: 20px">
                     <div class="row">
                      <div class="col-md-3" style="border-right: 1px solid red; padding: 0">
                        <img src="img/1296285.jpg" alt="spcFuck" style="width: 100%; margin: 0" />
                       </div>
                    <div class="col-md-9">
                <h3>êµ¬ë§¤ ì§„í–‰ ìƒí’ˆì´ ì—†ë„¤ìš©</h3>
                <h4>ì•„ì§ ê¾¸ë¯¸ê¸° ì „ì…ë‹ˆë‹¤.</h4>
                <p>asdfasdfasf</p>
                <span>asdfasdfasf</span>
                <span></span>
            </div>
        </div>
      </div>`;
            document.getElementById('bb').innerHTML = temp;
      });
  }

  // êµ¬ë§¤ë‚´ì—­
  function myBuyList() {
        axios
      .get('http://localhost:3000/orders/myBuyList')
      .then(( res ) => {
        let temp = "";
        for ( let i = 0; i < res.data.data.length; i++ ) {
          temp += `
                    <div class="container-fluid" style="border: 1px solid red; margin-top: 20px">
                     <div class="row">
                      <div class="col-md-3" style="border-right: 1px solid red; padding: 0">
                        <img src="img/1296285.jpg" alt="spcFuck" style="width: 100%; margin: 0" />
                       </div>
                    <div class="col-md-9">
                <h3>${ res.data.data[i].product.title }</h3></br>
<!--                <p>${ res.data.data[i].buyerId }</p>-->
                <h6>ê±°ë˜ì¼ : ${ res.data.data[i].product.updatedAt }</h6>
                <h4>ê±°ë˜ì™„ë£Œ : ${ res.data.data[i].deal }ì›</h4>
<!--                <span>ì¡°íšŒ: ${ res.data.data[i].product.viewCount }íšŒ</span>-->
<!--                <p>ë‚ ì§œ: ${ res.data.data[i].product.createdAt }íšŒ</p>-->
                <span style="float: right;">â¤${res.data.data[i].product.likes}</span>
            </div>
        </div>
      </div>`;
        }
        document.getElementById('bb').innerHTML = temp;
      })
      .catch(( error ) => {
        // ì˜ˆì™¸ì²˜ë¦¬ - ë¡œê·¸ì¸ì•ˆí•˜ê³  ë“¤ì–´ì˜¬ë•Œ or ë¡œê·¸ì¸ ì¿ í‚¤ê°€ ì—†ì„ ë•Œ
        console.log(error)
        if(error.response.status === 401){
          alert('ë¡œê·¸ì¸í•˜ì…”ì•¼ í•©ë‹ˆë‹¤.');
          window.location.href = '/'
          return
        }
        // 404 êµ¬ë§¤ë‚´ì—­ì´ ì—†ì„ ë•Œ
        else if(error.response.status === 404){
          let temp = "";
           temp += `
                    <div class="container-fluid" style="border: 1px solid red; margin-top: 20px">
                     <div class="row">
                      <div class="col-md-3" style="border-right: 1px solid red; padding: 0">
                        <img src="img/1296285.jpg" alt="spcFuck" style="width: 100%; margin: 0" />
                       </div>
                    <div class="col-md-9">
                <h3>êµ¬ë§¤í•˜ì‹  ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤. ã…ã…ã…</h3>
                <h4>êµ¬ë§¤í•´</h4>
                <p>ë°”ë³´</p>
                <span>ë°ë°ë°</span>
                <span></span>
            </div>
        </div>
      </div>`;
            document.getElementById('bb').innerHTML = temp;
        }
      });
  }
    // íŒë§¤ë‚´ì—­
    function mySellList() {
        axios
      .get('http://localhost:3000/orders/mySellList')
      .then(( res ) => {
        const aa = res.data;
        let temp = "";
        for ( let i = 0; i < res.data.data.length; i++ ) {
          temp += `
                    <div class="container-fluid" style="border: 1px solid red; margin-top: 20px">
                     <div class="row">
                      <div class="col-md-3" style="border-right: 1px solid red; padding: 0">
                        <img src="img/1296285.jpg" alt="spcFuck" style="width: 100%; margin: 0" />
                       </div>
                    <div class="col-md-9">
                <h3>${ res.data.data[i].product.title }</h3></br>
<!--                <p>${ res.data.data[i].buyerId }</p>-->
                <h6>ê±°ë˜ì¼ : ${ res.data.data[i].product.updatedAt }</h6>
                <h4>ê±°ë˜ì™„ë£Œ : ${ res.data.data[i].deal }ì›</h4>
                <span style="float: right;">â¤${res.data.data[i].product.likes}</span>
            </div>
        </div>
      </div>`;
        }
        document.getElementById('bb').innerHTML = temp;
      })
      .catch(( error ) => {
        console.log(error)
        if(error.response.status === 401){
          alert('ë¡œê·¸ì¸í•˜ì…”ì•¼ í•©ë‹ˆë‹¤.');
          window.location.href = '/'
          return
        } else if(error.response.status === 404){
          let temp = "";
           temp += `
                    <div class="container-fluid" style="border: 1px solid red; margin-top: 20px">
                     <div class="row">
                      <div class="col-md-3" style="border-right: 1px solid red; padding: 0">
                        <img src="img/1296285.jpg" alt="spcFuck" style="width: 100%; margin: 0" />
                       </div>
                    <div class="col-md-9">
                <h3>ì•„ì§ íŒŒì‹  ë¬¼ê±´ì´ ì—†ë‚´ìš©</h3>
                <h4>ã…ã…ã…ã…ã…ã…</h4>
                <p>asdfasdfasf</p>
                <span>asdfasdfasf</span>
                <span></span>
            </div>
        </div>
      </div>`;
            document.getElementById('bb').innerHTML = temp;
        }
      });
  }

  function deal(){
    axios
      .get('http://localhost:3000/orders/myPick')
      .then(( res ) => {
        console.log(res.data.data.length !== 0)
        if(res.data.data.length !== 0){
        let temp = "";
        for ( let i = 0; i < res.data.data.length; i++ ) {
          temp += `
                    <div class="container-fluid" style="border: 1px solid red; margin-top: 20px">
                     <div class="row">
                      <div class="col-md-3" style="border-right: 1px solid red; padding: 0">
                        <img src="img/1296285.jpg" alt="spcFuck" style="width: 100%; margin: 0" />
                       </div>
                    <div class="col-md-9">
                <h3>${ res.data.data[i].product.title }</h3>
<!--                <p>${ res.data.data[i].buyerId }</p>-->
                <h4>${ res.data.data[i].deal }ì›</h4>
                <p>ë‚ ì§œ: ${ res.data.data[i].product.createdAt }íšŒ</p>
                <span>ì¡°íšŒ: ${ res.data.data[i].product.viewCount }íšŒ</span>
                <span style="float: right;">ğŸ¯ ${0} â¤ ${res.data.data[i].product.likes}</span>
            </div>
        </div>
      </div>`;
        }
        document.getElementById('bb').innerHTML = temp;
          }
      })
        .catch(( error ) => {
          let temp = "";
           temp += `
                    <div class="container-fluid" style="border: 1px solid red; margin-top: 20px">
                     <div class="row">
                      <div class="col-md-3" style="border-right: 1px solid red; padding: 0">
                        <img src="img/1296285.jpg" alt="spcFuck" style="width: 100%; margin: 0" />
                       </div>
                    <div class="col-md-9">
                <h3>êµ¬ë§¤ ì§„í–‰ ìƒí’ˆì´ ì—†ë„¤ìš©</h3>
                <h4>ì•„ì§ ê¾¸ë¯¸ê¸° ì „ì…ë‹ˆë‹¤.</h4>
                <p>asdfasdfasf</p>
                <span>asdfasdfasf</span>
                <span></span>
            </div>
        </div>
      </div>`;
            document.getElementById('bb').innerHTML = temp;
        })

}
</script>

<body>
<!--ìƒë‹¨ ë©”ë‰´ë°”-->
<div class="container-fluid" style="
        height: 40px;
        position: fixed;
        top: 0;
        background: #fff;
      ">
    <div class="container">
        <div class="row">
            <div class="col-md-2" style="background: red; height: 40px">ì£¼ì†Œ</div>
            <div class="col-md-8" style="background: yellow; height: 40px">
                ë©”ì¸í˜ì´ì§€ì•ˆë…•í•˜ì„¸ì˜
            </div>
            <div class="col-md-2" style="background: purple; height: 40px">
                ë¡œê·¸ì•„ì›ƒ
            </div>
        </div>
    </div>
</div>
<!--ìƒë‹¨ ë‚´ë¹„ê²Œì´ì…˜-->
<div class="container-fluid" style="background: #eee; margin-top: 40px; margin-bottom: 40px">
    <div class="container" style="background: #fff; padding: 0">
        <div id="headerMenu" style="padding: 0">
            <div class="row">
                <div class="col-md-3" style="height: 100px; text-align: center; line-height: 100px">
                    <a onclick="window.location.reload()">êµ¬ë§¤ì§„í–‰</a>
                </div>
                <div class="col-md-3" style="height: 100px; text-align: center; line-height: 100px">
                    <a onclick="mySellProduct()">íŒë§¤ì§„í–‰</a>
                </div>
                <div class="col-md-3" style="height: 100px; text-align: center; line-height: 100px">
                    <a onclick="myBuyList()">êµ¬ë§¤ë‚´ì—­</a>
                </div>
                <div class="col-md-3" style="height: 100px; text-align: center; line-height: 100px">
                    <a onclick="mySellList()">íŒë§¤ë‚´ì—­</a>
                </div>
            </div>
        </div>
    </div>
    <!-- ë³¸ë¬¸-->
    <div class="container" id="bb" style="background: #fff; margin-top: 20px; padding: 0">
    </div>

<!--í•˜ë‹¨ ë©”ë‰´ë°”-->
<div class="container-fluid" style="
        height: 100px;
        position: fixed;
        bottom: 0;
        background: #fff;
        padding: 0;
      ">
    <div class="container" style="height: 100px; padding: 0">
        <div class="row" style="width: 100%; background-color: red; margin: 0">
            <div class="col" style="border: 1px solid black; height: 100px; width: 20%">
                ê²€ìƒ‰
            </div>
            <div class="col" style="border: 1px solid black; height: 100px; width: 20%">
                ìƒí’ˆë“±ë¡
            </div>
            <div id='deal' class="col" style="border: 1px solid black; height: 100px; width: 20%">
                <a onclick='deal()'>ë”œ í•˜ëŸ¬ ê°€ê¸°</a>
            </div>
            <div class="col" style="border: 1px solid black; height: 100px; width: 20%">
                ë§ˆì´í˜ì´ì§€
            </div>
        </div>
    </div>
</div>
</body>

</html>